<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paws Inn</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Nunito:wght@200;300;400;600;700;800&display=swap">
    <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
    <link rel="stylesheet" href="/css/staff/staff-nav3.css">
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/staff/staff-sales.css">
    <script type="module" src="/js/firebase-config.js"></script>
    <style>
        
    </style>
</head>

<body>
    <div class="sidebar close">
        <div class="logo-details">
            <span class="logo_name pl-5 pt-4">Paws Inn</span>
        </div>
        <ul class="nav-links">
            <li>
                <a href="/html/staff/staff-home.html">
                    <i class='bx bx-grid-alt'></i>
                    <span class="link_name">Dashboard</span>
                </a>
            </li>
            <li>
                <a href="/html/staff/staff-sales.html">
                    <i class='bx bx-cart'></i>
                    <span class="link_name">Sales</span>
                </a>
            </li>
            <li>
                <a href="/html/staff/staff-room.html">
                    <i class='bx bx-home'></i>
                    <span class="link_name">Room</span>
                </a>
            </li>
            <li>
                <div class="iocn-link">
                    <a href="#">
                        <i class='bx bx-collection'></i>
                        <span class="link_name">Product</span>
                    </a>
                    <i class='bx bxs-chevron-down arrow'></i>
                </div>
                <ul class="sub-menu">
                    <li><a href="/html/staff/staff-productdog.html">Dog</a></li>
                    <li><a href="/html/staff/staff-productcat.html">Cat</a></li>
                    <li><a href="/html/staff/staff-productbird.html">Bird</a></li>
                    <li><a href="/html/staff/staff-productfish&aquatics.html">Fish and Aquatics</a></li>
                    <li><a href="/html/staff/staff-producthamster&rabbit.html">Hamster and Rabbits</a></li>
                </ul>
            </li>
            <li>
                <div class="iocn-link">
                    <a href="#">
                        <i class='bx bx-plus'></i>
                        <span class="link_name">Add New</span>
                    </a>
                    <i class='bx bxs-chevron-down arrow'></i>
                </div>
                <ul class="sub-menu">
                    <li><a class="link_name" href="#">Add New</a></li>
                    <li><a href="/html/staff/staff-addroom.html">Add Room</a></li>
                    <li><a href="/html/staff/staff-addproduct.html">Add Product</a></li>
                </ul>
            </li>
            <li>
                <a href="/html/staff/staff-calendar.html">
                    <i class='bx bx-calendar'></i>
                    <span class="link_name">Calendar</span>
                </a>
            </li>
            <li>
                <a href="/html/staff/staff-report.html">
                    <i class='bx bx-line-chart'></i>
                    <span class="link_name">Report</span>
                </a>
            </li>
            <li>
                <a href="/html/staff/staff-transaction.html">
                    <i class='bx bx-dollar'></i>
                    <span class="link_name">Transactions</span>
                </a>
            </li>
            <li>
                <a href="/html/staff/staff-bookingHistory.html">
                    <i class='bx bx-history'></i>
                    <span class="link_name">Booking History</span>
                </a>
            </li>
            <li>
                <a href="/html/staff/staff-profile.html">
                    <i class='bx bx-user'></i>
                    <span class="link_name">Profile</span>
                </a>
            </li>
            <li>
                <div class="profile-details">
                    <div class="profile-content">
                        <!--<img src="image/profile.jpg" alt="profileImg">-->
                    </div>
                    <div class="name-job">
                        <div class="profile_name">Prem Shahi</div>
                        <div class="job">Web Designer</div>
                    </div>
                    <i class='bx bx-log-out'></i>
                </div>
            </li>
        </ul>
    </div>
    <section class="home-section">
        <div class="home-content">
            <i class='bx bx-menu'></i>
            <span class="text">Paws Inn</span>
        </div>
        <h1 class="text-center pt-5 pb-5" style="color: #127369; font-weight: 900;">New Sales</h1>
        <div class="container-fluid pt-3">
            <div class="search-bar">
                <input type="text" id="search-bar" placeholder="Search products..." onkeyup="searchProducts()">
                <button id="search-button">Search</button>
            </div>
            <div class="main-content">

                <div class="cart">
                    <h2>Cart</h2>
                    <table id="cart-table">
                        <thead>
                            <tr>
                                <th>Barcode</th>
                                <th>Product</th>
                                <th>Price</th>
                                <th>Quantity</th>
                                <th>Total</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="cart-items">
                            <!-- Cart items will be dynamically added here -->
                        </tbody>
                    </table>
                    <div class="totals">
                        <p><strong>Grand Total:</strong> $<span id="grand-total">0.00</span></p>
                        <button id="checkout-button">Checkout</button>
                    </div>
                </div>
                <div class="products">
                    <h2>Products</h2>
                    <div class="product-list" id="product-list">
                        <!-- Products will be dynamically added here -->
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        const products = [
            { id: 1, name: 'Product 1', price: 10.00 },
            { id: 2, name: 'Product 2', price: 20.00 },
            { id: 3, name: 'Product 3', price: 30.00 },
            { id: 4, name: 'Product 4', price: 40.00 },
            { id: 5, name: 'Product 5', price: 50.00 },
            { id: 6, name: 'Product 6', price: 60.00 }
        ];

        const cart = [];

        document.addEventListener('DOMContentLoaded', () => {
            const productList = document.getElementById('product-list');
            products.forEach(product => {
                const productItem = document.createElement('div');
                productItem.className = 'product-item';
                productItem.setAttribute('data-name', product.name.toLowerCase());
                productItem.innerHTML = `
            <h5>${product.name}</h5>
            <p>$${product.price.toFixed(2)}</p>
            <button onclick="addToCart(${product.id})">Add to Cart</button>
        `;
                productList.appendChild(productItem);
            });
            updateCart();
        });

        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            const cartItem = cart.find(item => item.product.id === productId);
            if (cartItem) {
                cartItem.quantity++;
            } else {
                cart.push({ product, quantity: 1 });
            }
            updateCart();
        }

        function updateCart() {
            const cartItems = document.getElementById('cart-items');
            cartItems.innerHTML = '';
            let grandTotal = 0;
            cart.forEach(({ product, quantity }) => {
                const total = product.price * quantity;
                grandTotal += total;
                const cartItem = document.createElement('tr');
                cartItem.innerHTML = `
            <td>${product.name}</td>
            <td>$${product.price.toFixed(2)}</td>
            <td>${quantity}</td>
            <td>$${total.toFixed(2)}</td>
            <td><button onclick="removeFromCart(${product.id})">Remove</button></td>
        `;
                cartItems.appendChild(cartItem);
            });
            document.getElementById('grand-total').textContent = grandTotal.toFixed(2);
        }

        function removeFromCart(productId) {
            const cartIndex = cart.findIndex(item => item.product.id === productId);
            if (cartIndex !== -1) {
                cart[cartIndex].quantity--;
                if (cart[cartIndex].quantity === 0) {
                    cart.splice(cartIndex, 1);
                }
            }
            updateCart();
        }

        document.getElementById('checkout-button').addEventListener('click', () => {
            if (cart.length > 0) {
                alert('Checkout successful!');
                cart.length = 0;
                updateCart();
            } else {
                alert('Cart is empty.');
            }
        });

        function searchProducts() {
            const searchQuery = document.getElementById('search-bar').value.toLowerCase();
            const productItems = document.querySelectorAll('.product-item');
            productItems.forEach(item => {
                const productName = item.getAttribute('data-name');
                if (productName.includes(searchQuery)) {
                    item.style.display = 'block';
                } else {
                    item.style.display = 'none';
                }
            });
        }

    </script>
    <script type="module" src="/js/staff/staff-home.js"></script>
</body>

</html>